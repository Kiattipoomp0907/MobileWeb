System.register(["./index-legacy-CgYUponl.js"],function(e,l){"use strict";var a,t,n,u,o,s,i,d,m,c,r,f,b,p,v,g,V,_,y,x,h,U,k,w,j,C,E,S;return{setters:[e=>{a=e.d,t=e.Q,n=e.r,u=e.o,o=e.R,s=e.S,i=e.J,d=e.f,m=e.w,c=e.u,r=e.I,f=e.g,b=e.h,p=e.T,v=e.U,g=e.i,V=e.j,_=e.k,y=e.V,x=e.W,h=e.X,U=e.Y,k=e.Z,w=e.H,j=e.K,C=e._,E=e.$,S=e.L}],execute:function(){e("default",a({__name:"EditExpensePage",setup(e){const l=t(),a=i(),H=l.params.id,I=n(""),J=n(null),K=n("expense"),L=n(""),N=n("");u(async()=>{const e=o(j,"expenses",H),l=await s(e);if(l.exists()){const e=l.data();I.value=e.title,J.value=e.amount,K.value=e.type,L.value=e.category,N.value=e.note}else alert("ไม่พบข้อมูล"),a.push("/tabs/tab1")});const P=async()=>{try{const e=o(j,"expenses",H);await C(e,{title:I.value,amount:Number(J.value),type:K.value,category:L.value,note:N.value}),a.push("/tabs/tab1")}catch(e){console.error(e),alert("แก้ไขไม่สำเร็จ")}},Q=async()=>{if(confirm("ยืนยันการลบ?"))try{await E(o(j,"expenses",H)),a.push("/tabs/tab1")}catch(e){console.error(e)}};return(e,l)=>(S(),d(c(r),null,{default:m(()=>[f(c(_),null,{default:m(()=>[f(c(b),null,{default:m(()=>[f(c(p),{slot:"start"},{default:m(()=>[f(c(v),{"default-href":"/tabs/tab1"})]),_:1}),f(c(g),null,{default:m(()=>[...l[5]||(l[5]=[V("แก้ไขรายการ",-1)])]),_:1})]),_:1})]),_:1}),f(c(w),{class:"ion-padding"},{default:m(()=>[f(c(y),{label:"ชื่อรายการ","label-placement":"floating",fill:"outline",modelValue:I.value,"onUpdate:modelValue":l[0]||(l[0]=e=>I.value=e),class:"ion-margin-bottom"},null,8,["modelValue"]),f(c(y),{label:"จำนวนเงิน","label-placement":"floating",fill:"outline",type:"number",modelValue:J.value,"onUpdate:modelValue":l[1]||(l[1]=e=>J.value=e),class:"ion-margin-bottom"},null,8,["modelValue"]),f(c(x),{label:"ประเภท","label-placement":"floating",fill:"outline",modelValue:K.value,"onUpdate:modelValue":l[2]||(l[2]=e=>K.value=e),class:"ion-margin-bottom"},{default:m(()=>[f(c(h),{value:"income"},{default:m(()=>[...l[6]||(l[6]=[V("รายรับ",-1)])]),_:1}),f(c(h),{value:"expense"},{default:m(()=>[...l[7]||(l[7]=[V("รายจ่าย",-1)])]),_:1})]),_:1},8,["modelValue"]),f(c(y),{label:"หมวดหมู่","label-placement":"floating",fill:"outline",modelValue:L.value,"onUpdate:modelValue":l[3]||(l[3]=e=>L.value=e),class:"ion-margin-bottom"},null,8,["modelValue"]),f(c(U),{label:"หมายเหตุ","label-placement":"floating",fill:"outline",modelValue:N.value,"onUpdate:modelValue":l[4]||(l[4]=e=>N.value=e),class:"ion-margin-bottom"},null,8,["modelValue"]),f(c(k),{expand:"block",onClick:P,class:"ion-margin-bottom"},{default:m(()=>[...l[8]||(l[8]=[V(" บันทึกการแก้ไข ",-1)])]),_:1}),f(c(k),{expand:"block",color:"danger",fill:"outline",onClick:Q},{default:m(()=>[...l[9]||(l[9]=[V(" ลบรายการ ",-1)])]),_:1})]),_:1})]),_:1}))}}))}}});
