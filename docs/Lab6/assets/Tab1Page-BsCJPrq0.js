import{d as H,r as i,o as P,q as V,a as q,c as z,b as A,e as E,f,w as t,u as e,I as R,g as a,h as y,i as m,j as s,k as C,l as _,m as F,n as G,p as v,s as b,t as x,v as k,x as L,y as u,z as M,A as D,B as T,C as U,D as p,E as $,F as h,G as w,H as j,J,K,L as d,M as O,N as Q,O as W,P as X}from"./index-BwK5R9i1.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"summary-container ion-padding"},ee={key:0,style:{"font-size":"0.8em",color:"gray"}},te=H({__name:"Tab1Page",setup(ae){const S=J(),r=i([]),I=i(0),g=i(0);let c=null;P(()=>{const n=V(z(K,"expenses"),q("createdAt","desc"));c=A(n,l=>{r.value=l.docs.map(o=>({id:o.id,...o.data()})),B()})});const B=()=>{I.value=r.value.filter(n=>n.type==="income").reduce((n,l)=>n+l.amount,0),g.value=r.value.filter(n=>n.type==="expense").reduce((n,l)=>n+l.amount,0)},N=n=>n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return E(()=>{c&&c()}),(n,l)=>(d(),f(e(R),null,{default:t(()=>[a(e(C),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(m),null,{default:t(()=>[...l[0]||(l[0]=[s("รายการบันทึก (Realtime)",-1)])]),_:1})]),_:1})]),_:1}),a(e(j),{fullscreen:!0},{default:t(()=>[a(e(C),{collapse:"condense"},{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(m),{size:"large"},{default:t(()=>[...l[1]||(l[1]=[s("รายการบันทึก",-1)])]),_:1})]),_:1})]),_:1}),_("div",Z,[a(e(F),null,{default:t(()=>[a(e(G),null,{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(b),{color:"success"},{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(k),null,{default:t(()=>[...l[2]||(l[2]=[s("รายรับรวม",-1)])]),_:1}),a(e(L),null,{default:t(()=>[s("+ "+u(I.value.toLocaleString()),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(e(v),null,{default:t(()=>[a(e(b),{color:"danger"},{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(k),null,{default:t(()=>[...l[3]||(l[3]=[s("รายจ่ายรวม",-1)])]),_:1}),a(e(L),null,{default:t(()=>[s("- "+u(g.value.toLocaleString()),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),a(e(M),null,{default:t(()=>[a(e(U),null,{default:t(()=>[a(e(p),null,{default:t(()=>[...l[4]||(l[4]=[s("ประวัติล่าสุด",-1)])]),_:1})]),_:1}),(d(!0),D(h,null,$(r.value,o=>(d(),f(e(w),{key:o.id,button:"",detail:!0,onClick:le=>e(S).push(`/edit/${o.id}`)},{default:t(()=>[a(e(O),{icon:o.type==="income"?e(Q):e(W),slot:"start",color:o.type==="income"?"success":"danger"},null,8,["icon","color"]),a(e(p),null,{default:t(()=>[_("h2",null,u(o.title),1),_("p",null,u(o.category)+" | "+u(N(o.createdAt)),1),o.note?(d(),D("p",ee,u(o.note),1)):T("",!0)]),_:2},1024),a(e(X),{slot:"end",color:o.type==="income"?"success":"danger"},{default:t(()=>[s(u(o.type==="income"?"+":"-")+" "+u(o.amount.toLocaleString()),1)]),_:2},1032,["color"])]),_:2},1032,["onClick"]))),128)),r.value.length===0?(d(),f(e(w),{key:0},{default:t(()=>[a(e(p),{class:"ion-text-center"},{default:t(()=>[...l[5]||(l[5]=[s("ไม่มีรายการบันทึก",-1)])]),_:1})]),_:1})):T("",!0)]),_:1})]),_:1})]),_:1}))}}),se=Y(te,[["__scopeId","data-v-03d93be1"]]);export{se as default};
