import{d as F,r as x,c as m,o as N,a as H,b as f,w as a,u as t,I as q,e as o,f as b,g,h as C,i as k,j as _,k as A,l as E,m as V,n as T,p,q as s,t as u,s as L,v as P,F as G,x as h,y as R,z as S,A as $,B as j,C as J,D as K,E as r,G as M,H as O,J as U,K as Q}from"./index-BOqNN7pk.js";import{q as W,o as X,c as Y,a as Z,d as tt}from"./firebase-nSD_PLfQ.js";import{_ as et}from"./_plugin-vue_export-helper-DlAUqK2U.js";const at={class:"summary-item income"},ot={class:"amount"},nt={class:"summary-item expense"},st={class:"amount"},lt={class:"summary-item balance"},ut={class:"amount"},rt={key:0,class:"note"},dt={key:1,class:"empty-state ion-padding ion-text-center"},it=F({__name:"Tab1Page",setup(ct){const v=K(),d=x([]);let c=null;const I=m(()=>d.value.filter(n=>n.type==="income").reduce((n,e)=>n+e.amount,0)),y=m(()=>d.value.filter(n=>n.type==="expense").reduce((n,e)=>n+e.amount,0)),w=m(()=>I.value-y.value),i=n=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(n),B=n=>{if(!n)return"";const e=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)},D=()=>{v.push("/add-expense")},z=n=>{v.push(`/edit/${n}`)};return N(()=>{const n=W(Y(tt,"expenses"),X("createdAt","desc"));c=Z(n,e=>{d.value=e.docs.map(l=>({id:l.id,...l.data()}))})}),H(()=>{c&&c()}),(n,e)=>(r(),f(t(q),null,{default:a(()=>[o(t(k),null,{default:a(()=>[o(t(b),null,{default:a(()=>[o(t(g),null,{default:a(()=>[...e[0]||(e[0]=[C("รายการรายรับ–รายจ่าย",-1)])]),_:1})]),_:1})]),_:1}),o(t(J),{fullscreen:!0},{default:a(()=>[o(t(k),{collapse:"condense"},{default:a(()=>[o(t(b),null,{default:a(()=>[o(t(g),{size:"large"},{default:a(()=>[...e[1]||(e[1]=[C("รายการรายรับ–รายจ่าย",-1)])]),_:1})]),_:1})]),_:1}),o(t(A),null,{default:a(()=>[o(t(E),null,{default:a(()=>[o(t(V),null,{default:a(()=>[o(t(T),null,{default:a(()=>[o(t(p),{size:"6"},{default:a(()=>[s("div",at,[e[2]||(e[2]=s("div",{class:"label"},"รายรับ",-1)),s("div",ot,u(i(I.value)),1)])]),_:1}),o(t(p),{size:"6"},{default:a(()=>[s("div",nt,[e[3]||(e[3]=s("div",{class:"label"},"รายจ่าย",-1)),s("div",st,u(i(y.value)),1)])]),_:1})]),_:1}),o(t(T),null,{default:a(()=>[o(t(p),{size:"12"},{default:a(()=>[s("div",lt,[e[4]||(e[4]=s("div",{class:"label"},"คงเหลือ",-1)),s("div",ut,u(i(w.value)),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d.value.length>0?(r(),f(t(L),{key:0},{default:a(()=>[(r(!0),_(G,null,P(d.value,l=>(r(),f(t(M),{key:l.id,onClick:mt=>z(l.id),button:""},{default:a(()=>[o(t(O),null,{default:a(()=>[s("h2",null,u(l.title),1),s("p",null,u(l.category)+" • "+u(B(l.createdAt)),1),l.note?(r(),_("p",rt,u(l.note),1)):U("",!0)]),_:2},1024),o(t(Q),{slot:"end",color:l.type==="income"?"success":"danger"},{default:a(()=>[s("strong",null,u(l.type==="income"?"+":"-")+u(i(l.amount)),1)]),_:2},1032,["color"])]),_:2},1032,["onClick"]))),128))]),_:1})):(r(),_("div",dt,[o(t(h),{icon:t(R),size:"large",color:"medium"},null,8,["icon"]),e[5]||(e[5]=s("p",null,"ยังไม่มีรายการ",-1)),e[6]||(e[6]=s("p",{class:"ion-text-wrap"},"เริ่มต้นบันทึกรายรับรายจ่ายของคุณ",-1))])),o(t(S),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:a(()=>[o(t($),{onClick:D},{default:a(()=>[o(t(h),{icon:t(j)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),vt=et(it,[["__scopeId","data-v-f08f8b2c"]]);export{vt as default};
