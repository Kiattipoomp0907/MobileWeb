import{d as B,Q as U,r as s,o as w,R as c,S as C,J as R,f as T,w as o,u as l,I as E,g as t,h as S,T as D,U as N,i as H,j as u,k as P,V as v,W as j,X as V,Y as J,Z as x,H as K,K as g,_ as L,$ as M,L as O}from"./index-DTFp6EZ8.js";const X=B({__name:"EditExpensePage",setup(Q){const I=U(),f=R(),b=I.params.id,d=s(""),r=s(null),i=s("expense"),m=s(""),p=s("");w(async()=>{const n=c(g,"expenses",b),e=await C(n);if(e.exists()){const a=e.data();d.value=a.title,r.value=a.amount,i.value=a.type,m.value=a.category,p.value=a.note}else alert("ไม่พบข้อมูล"),f.push("/tabs/tab1")});const y=async()=>{try{const n=c(g,"expenses",b);await L(n,{title:d.value,amount:Number(r.value),type:i.value,category:m.value,note:p.value}),f.push("/tabs/tab1")}catch(n){console.error(n),alert("แก้ไขไม่สำเร็จ")}},k=async()=>{if(confirm("ยืนยันการลบ?"))try{await M(c(g,"expenses",b)),f.push("/tabs/tab1")}catch(n){console.error(n)}};return(n,e)=>(O(),T(l(E),null,{default:o(()=>[t(l(P),null,{default:o(()=>[t(l(S),null,{default:o(()=>[t(l(D),{slot:"start"},{default:o(()=>[t(l(N),{"default-href":"/tabs/tab1"})]),_:1}),t(l(H),null,{default:o(()=>[...e[5]||(e[5]=[u("แก้ไขรายการ",-1)])]),_:1})]),_:1})]),_:1}),t(l(K),{class:"ion-padding"},{default:o(()=>[t(l(v),{label:"ชื่อรายการ","label-placement":"floating",fill:"outline",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),class:"ion-margin-bottom"},null,8,["modelValue"]),t(l(v),{label:"จำนวนเงิน","label-placement":"floating",fill:"outline",type:"number",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),class:"ion-margin-bottom"},null,8,["modelValue"]),t(l(j),{label:"ประเภท","label-placement":"floating",fill:"outline",modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),class:"ion-margin-bottom"},{default:o(()=>[t(l(V),{value:"income"},{default:o(()=>[...e[6]||(e[6]=[u("รายรับ",-1)])]),_:1}),t(l(V),{value:"expense"},{default:o(()=>[...e[7]||(e[7]=[u("รายจ่าย",-1)])]),_:1})]),_:1},8,["modelValue"]),t(l(v),{label:"หมวดหมู่","label-placement":"floating",fill:"outline",modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=a=>m.value=a),class:"ion-margin-bottom"},null,8,["modelValue"]),t(l(J),{label:"หมายเหตุ","label-placement":"floating",fill:"outline",modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=a=>p.value=a),class:"ion-margin-bottom"},null,8,["modelValue"]),t(l(x),{expand:"block",onClick:y,class:"ion-margin-bottom"},{default:o(()=>[...e[8]||(e[8]=[u(" บันทึกการแก้ไข ",-1)])]),_:1}),t(l(x),{expand:"block",color:"danger",fill:"outline",onClick:k},{default:o(()=>[...e[9]||(e[9]=[u(" ลบรายการ ",-1)])]),_:1})]),_:1})]),_:1}))}});export{X as default};
