import{d as P,r as s,c as L,u as l,a as C,o as x,w as o,b as a,I as O,e as T,f as B,g as r,h as N,i as V,j as I,k as G,l as i,m as d,n as u,p as S,q as m}from"./index-DvODZeye.js";const U={key:0},R={key:1},_=P({__name:"LoginPage",setup(h){const p=C(),f=s(""),g=s(""),c=s(""),v=s(""),b=s(""),k=async()=>{try{await m.loginWithEmailPassword({email:f.value,password:g.value}),p.replace("/tabs/tab1")}catch(n){alert("Email Login Error: "+n.message)}},w=async()=>{try{await m.loginWithGoogle(),p.replace("/tabs/tab1")}catch(n){alert("Google Login Error: "+n.message)}},y=async()=>{try{const n=await m.startPhoneLogin({phoneNumberE164:c.value});b.value=n.verificationId}catch(n){alert("Send OTP Error: "+n.message)}},E=async()=>{try{await m.confirmPhoneCode({verificationId:b.value,verificationCode:v.value}),p.replace("/tabs/tab1")}catch(n){alert("Verify OTP Error: "+n.message)}};return(n,e)=>(x(),L(l(S),null,{default:o(()=>[a(l(O),null,{default:o(()=>[a(l(T),null,{default:o(()=>[a(l(B),null,{default:o(()=>[...e[4]||(e[4]=[r("Login Lab07",-1)])]),_:1})]),_:1})]),_:1}),a(l(N),{class:"ion-padding"},{default:o(()=>[a(l(G),null,{default:o(()=>[a(l(i),null,{default:o(()=>[a(l(d),{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=t=>f.value=t),label:"Email","label-placement":"floating",placeholder:"user@example.com"},null,8,["modelValue"])]),_:1}),a(l(i),null,{default:o(()=>[a(l(d),{modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=t=>g.value=t),type:"password",label:"Password","label-placement":"floating"},null,8,["modelValue"])]),_:1})]),_:1}),a(l(u),{expand:"block",onClick:k},{default:o(()=>[...e[5]||(e[5]=[r("Login with Email",-1)])]),_:1}),e[10]||(e[10]=V("div",{class:"ion-text-center ion-margin-vertical"},"OR",-1)),a(l(u),{expand:"block",color:"danger",onClick:w},{default:o(()=>[...e[6]||(e[6]=[r(" Login with Google ",-1)])]),_:1}),e[11]||(e[11]=V("div",{class:"ion-text-center ion-margin-vertical"},"OR",-1)),b.value?(x(),I("div",R,[a(l(i),null,{default:o(()=>[a(l(d),{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=t=>v.value=t),label:"Enter OTP","label-placement":"floating"},null,8,["modelValue"])]),_:1}),a(l(u),{expand:"block",color:"warning",onClick:E},{default:o(()=>[...e[9]||(e[9]=[r("Verify OTP",-1)])]),_:1})])):(x(),I("div",U,[a(l(i),null,{default:o(()=>[a(l(d),{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),label:"Phone (+66...)","label-placement":"floating",placeholder:"+668xxxxxxxx"},null,8,["modelValue"])]),_:1}),e[8]||(e[8]=V("div",{id:"recaptcha-container"},null,-1)),a(l(u),{expand:"block",color:"success",onClick:y},{default:o(()=>[...e[7]||(e[7]=[r("Send OTP",-1)])]),_:1})]))]),_:1})]),_:1}))}});export{_ as default};
